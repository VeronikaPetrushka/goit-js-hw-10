{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst input = document.createElement('input');\ninput.type = 'text';\ninput.id = 'datetime-picker';\ninput.placeholder = 'Select a date';\n\nconst startBtn = document.createElement('button');\nstartBtn.id = 'start-btn';\nstartBtn.textContent = 'Start';\nstartBtn.disabled = true;\n\nconst timer = document.createElement('div');\ntimer.id = 'timer';\n\nconst days = document.createElement('span');\ndays.id = 'days';\ndays.textContent = '00';\n\nconst hours = document.createElement('span');\nhours.id = 'hours';\nhours.textContent = '00';\n\nconst minutes = document.createElement('span');\nminutes.id = 'minutes';\nminutes.textContent = '00';\n\nconst seconds = document.createElement('span');\nseconds.id = 'seconds';\nseconds.textContent = '00';\n\ntimer.appendChild(days);\ntimer.appendChild(document.createTextNode(':'));\ntimer.appendChild(hours);\ntimer.appendChild(document.createTextNode(':'));\ntimer.appendChild(minutes);\ntimer.appendChild(document.createTextNode(':'));\ntimer.appendChild(seconds);\n\ndocument.body.appendChild(input);\ndocument.body.appendChild(startBtn);\ndocument.body.appendChild(timer);\n\nconst timerLabrary = document.querySelector('#datetime-picker');\nconst startBtnEl = document.querySelector('#start-btn');\nconst daysEl = document.querySelector('#days');\nconst hoursEl = document.querySelector('#hours');\nconst minutesEl = document.querySelector('#minutes');\nconst secondsEl = document.querySelector('#seconds');\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate < new Date()) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      document.getElementById('start-btn').disabled = true;\n    } else {\n      document.getElementById('start-btn').disabled = false;\n    }\n  },\n};\n\ntimerLabrary('#datetime-picker', options);\n\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\n\nfunction updateTimer(ms) {\n  const { days, hours, minutes, seconds } = convertMs(ms);\n  document.getElementById('days').textContent = addLeadingZero(days);\n  document.getElementById('hours').textContent = addLeadingZero(hours);\n  document.getElementById('minutes').textContent = addLeadingZero(minutes);\n  document.getElementById('seconds').textContent = addLeadingZero(seconds);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\ndocument.getElementById('start-btn').addEventListener('click', () => {\n  const selectedDate = timerLabrary('#datetime-picker').selectedDates[0];\n  const currentDate = new Date();\n  const ms = selectedDate - currentDate;\n  const intervalId = setInterval(() => {\n    updateTimer(ms);\n    if (ms <= 0) {\n      clearInterval(intervalId);\n      iziToast.success({\n        title: 'Success',\n        message: 'Countdown finished',\n      });\n    }\n  }, 1000);\n});\n"],"names":["input","startBtn","timer","days","hours","minutes","seconds","timerLabrary","options","selectedDates","addLeadingZero","value","updateTimer","ms","convertMs","intervalId"],"mappings":"wFAGA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,KAAO,OACbA,EAAM,GAAK,kBACXA,EAAM,YAAc,gBAEpB,MAAMC,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,GAAK,YACdA,EAAS,YAAc,QACvBA,EAAS,SAAW,GAEpB,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,GAAK,QAEX,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,GAAK,OACVA,EAAK,YAAc,KAEnB,MAAMC,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,GAAK,QACXA,EAAM,YAAc,KAEpB,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,GAAK,UACbA,EAAQ,YAAc,KAEtB,MAAMC,EAAU,SAAS,cAAc,MAAM,EAC7CA,EAAQ,GAAK,UACbA,EAAQ,YAAc,KAEtBJ,EAAM,YAAYC,CAAI,EACtBD,EAAM,YAAY,SAAS,eAAe,GAAG,CAAC,EAC9CA,EAAM,YAAYE,CAAK,EACvBF,EAAM,YAAY,SAAS,eAAe,GAAG,CAAC,EAC9CA,EAAM,YAAYG,CAAO,EACzBH,EAAM,YAAY,SAAS,eAAe,GAAG,CAAC,EAC9CA,EAAM,YAAYI,CAAO,EAEzB,SAAS,KAAK,YAAYN,CAAK,EAC/B,SAAS,KAAK,YAAYC,CAAQ,EAClC,SAAS,KAAK,YAAYC,CAAK,EAE/B,MAAMK,EAAe,SAAS,cAAc,kBAAkB,EAC3C,SAAS,cAAc,YAAY,EACvC,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,QAAQ,EAC7B,SAAS,cAAc,UAAU,EACjC,SAAS,cAAc,UAAU,EAEnD,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACAA,EAAc,CAAC,EACjB,IAAI,MACrB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACD,SAAS,eAAe,WAAW,EAAE,SAAW,IAEhD,SAAS,eAAe,WAAW,EAAE,SAAW,EAEnD,CACH,EAEAF,EAAa,mBAAoBC,CAAO,EAExC,SAASE,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,SAASC,EAAYC,EAAI,CACvB,KAAM,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYQ,EAAUD,CAAE,EACtD,SAAS,eAAe,MAAM,EAAE,YAAcH,EAAeP,CAAI,EACjE,SAAS,eAAe,OAAO,EAAE,YAAcO,EAAeN,CAAK,EACnE,SAAS,eAAe,SAAS,EAAE,YAAcM,EAAeL,CAAO,EACvE,SAAS,eAAe,SAAS,EAAE,YAAcK,EAAeJ,CAAO,CACzE,CAEA,SAASQ,EAAUD,EAAI,CAMrB,MAAMV,EAAO,KAAK,MAAMU,EAAK,KAAG,EAC1BT,EAAQ,KAAK,MAAOS,EAAK,MAAO,IAAI,EACpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EACjDP,EAAU,KAAK,MAASO,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAAS,eAAe,WAAW,EAAE,iBAAiB,QAAS,IAAM,CAGnE,MAAMO,EAFeN,EAAa,kBAAkB,EAAE,cAAc,CAAC,EACjD,IAAI,KAElBQ,EAAa,YAAY,IAAM,CACnCH,EAAYC,CAAE,EACVA,GAAM,IACR,cAAcE,CAAU,EACxB,SAAS,QAAQ,CACf,MAAO,UACP,QAAS,oBACjB,CAAO,EAEJ,EAAE,GAAI,CACT,CAAC"}